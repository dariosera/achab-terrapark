import{_ as C,r as _,l as I,o as a,c as l,a as t,e as v,n as N,t as e,F as $,f as x,u as b,h as V,B as D,q as A,C as B,i as g,d as y,w as k,g as O,p as j,j as z}from"./index-sp5jN1Kp.js";import{i as w,a as E}from"./anteprimaCasuale-NsveTDYS.js";import{a as P,b as R}from"./Dettaglio.vue_vue_type_style_index_0_scoped_df82ad3d_lang-Bh93k_eN.js";const F=["src"],M={class:"tags"},q={key:0,class:"tag badge badge-pill"},L={key:0,class:"custom-progress"},G={class:"content"},H={class:"avanzamento"},J={key:0},K={class:"title"},Q={class:"subtitle"},U={key:0,class:"icons"},W={key:1,class:"icons"},X={class:"material-symbols-outlined"},Y={class:"description"},Z=D('<div class="bottom" data-v-3d71665b><div class="actions" data-v-3d71665b><button data-v-3d71665b><span class="material-symbols-outlined" data-v-3d71665b>thumb_up</span></button><button data-v-3d71665b><span class="material-symbols-outlined" data-v-3d71665b>thumb_down</span></button><button data-v-3d71665b><span class="material-symbols-outlined" data-v-3d71665b>favorite</span></button><button data-v-3d71665b><span class="material-symbols-outlined" data-v-3d71665b>ios_share</span></button></div></div>',1),tt={__name:"Anteprima",props:["data","selected"],emits:["mostraDettaglio"],setup(n,{emit:i}){_(!1);const s=n,r=i,u=I(),o=()=>{s.data.isCourse?u.push(`/corso/${s.data.IDcorso}`):r("mostraDettaglio",s.data)};return(f,h)=>(a(),l("div",{class:V(["anteprima shadow-sm",{"is-course":s.data.isCourse,selected:s==null?void 0:s.selected}])},[t("div",{class:"img",onClick:o},[t("img",{src:s.data.image},null,8,F),t("div",M,[s.data.isCourse?(a(),l("div",q,"Corso")):v("",!0)])]),(s.data.progress,a(),l("div",L,[t("div",{class:"custom-progress-inner",style:N(`width: ${parseInt(s.data.progress*100)}%`)},null,4)])),t("div",G,[t("div",{class:"middle",onClick:o},[t("div",H,[s.data.isCourse&&s.data.progress>0?(a(),l("span",J,e(parseInt(s.data.progress*100))+"% completato",1)):v("",!0)]),t("h3",K,e(s.data.title),1),t("div",Q,e(s.data.subtitle),1),s.data.isCourse?(a(),l("div",U,[(a(),l($,null,x(["video","pdf","test"],m=>t("span",{key:m,class:"material-symbols-outlined"},e(b(w)[m]),1)),64))])):(a(),l("div",W,[t("span",X,e(b(w)[s.data.contentType]),1)])),t("div",Y,e(s.data.description.split("|")[0].substring(0,130)),1)]),Z])],2))}},st=C(tt,[["__scopeId","data-v-3d71665b"]]),S=n=>(j("data-v-df82ad3d"),n=n(),z(),n),at={class:"col-lg-6"},et=["src"],ot=D('<div class="text-end mt-2" data-v-df82ad3d><div class="actions" data-v-df82ad3d><button data-v-df82ad3d><span class="material-symbols-outlined" data-v-df82ad3d>thumb_up</span></button><button data-v-df82ad3d><span class="material-symbols-outlined" data-v-df82ad3d>thumb_down</span></button><button data-v-df82ad3d><span class="material-symbols-outlined" data-v-df82ad3d>favorite</span></button><button data-v-df82ad3d><span class="material-symbols-outlined" data-v-df82ad3d>ios_share</span></button></div></div>',1),dt={class:"col-lg-6"},lt={key:0,class:"mb-2"},it=S(()=>t("span",{class:"material-symbols-outlined"},"keyboard_arrow_left",-1)),nt={class:"descrizione"},ct={class:"mt-1"},rt={class:"meta"},ut={key:0,class:"col-12"},pt=S(()=>t("h5",null,"Ti potrebbero interessare",-1)),mt={class:"slider-suggeriti px-3"},_t={__name:"Dettaglio",props:["data","showRelated"],setup(n){const i=n,s=_([]);if((i==null?void 0:i.showRelated)!==!1)for(let d=0;d<Math.random()*6;d++)s.value.push(E());s.value.forEach(d=>{d.selected=!1});const r=_(null),u=_(!1),o=A(Object.assign({},i.data)),f=d=>{Object.assign(o,d),u.value=!0,s.value.forEach(c=>{c.permalink==d.permalink?c.selected=!0:c.selected=!1}),window.scrollTo({top:r.value.offsetTop,behavior:"smooth"})},h=()=>{Object.assign(o,i.data),u.value=!1,s.value.forEach(d=>{d.selected=!1}),window.scrollTo({top:r.value.offsetTop,behavior:"smooth"})},m={perPage:4,pagination:!1,classes:{prev:"splide__arrow--prev arrow-prev-outside",next:"splide__arrow--next arrow-next-outside"},gap:"15px",breakpoints:{1700:{perPage:3},1400:{perPage:2},900:{perPage:1}}};return B(()=>i.data,()=>{console.log("updated"),h()}),(d,c)=>(a(),l("div",{ref_key:"tagDettaglio",ref:r,class:"row dettaglio"},[t("div",at,[t("img",{class:"image",src:o.image},null,8,et),ot]),t("div",dt,[u.value?(a(),l("div",lt,[t("button",{class:"btn btn-sm btn-outline-primary d-flex",onClick:h},[it,g(" Torna aÂ "),t("b",null,e(i.data.title.substring(20))+"...",1)])])):v("",!0),t("h3",null,e(o.title),1),t("div",nt,[t("p",null,e(o.description.split("|")[0]),1),t("div",ct,e(o.description.split("|")[1]),1)]),t("div",rt,[t("div",null,[g("Tema: "),t("strong",null,e(o.meta.theme.title),1)]),t("div",null,[g("Argomento: "),t("strong",null,e(o.meta.topic.title),1)])])]),s.value.length>0?(a(),l("div",ut,[pt,t("div",mt,[y(b(R),{options:m},{default:k(()=>[(a(!0),l($,null,x(s.value,(p,T)=>(a(),O(b(P),{key:T},{default:k(()=>[y(st,{data:p,selected:p==null?void 0:p.selected,onMostraDettaglio:f},null,8,["data","selected"])]),_:2},1024))),128))]),_:1})])])):v("",!0),t("button",{onClick:c[0]||(c[0]=p=>d.$emit("close")),type:"button",class:"btn-close","aria-label":"Close"})],512))}},gt=C(_t,[["__scopeId","data-v-df82ad3d"]]);export{st as A,gt as D};
